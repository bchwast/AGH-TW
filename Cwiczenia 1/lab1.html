
<!-- saved from url=(0047)https://home.agh.edu.pl/~kzajac/dydakt/tw/lab1/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="GENERATOR" content="vi">
<title>Teoria wspolbieznosci</title>
<link id="avast_os_ext_custom_font" href="chrome-extension://eofcbnmajmjmplflapaojjnihcjkigck/common/ui/fonts/fonts.css" rel="stylesheet" type="text/css"></head>

<body>

<h3>Laboratorium 1</h3>
<ol>
<li>Watek a proces
</li><li>
<a href="http://download.oracle.com/javase/tutorial/essential/concurrency/index.html">
Watki w javie  </a>
<p>
</p><ul>
   <li>wbudowane w jezyk
   </li><li>dwa rodzaje implementacji
   <ul>
       <li>Przez dziedziczenie z klasy Thread
<p>
Klasa:
</p><pre>class MyThread extends Thread {
     . . .
     public void run() {
          . . .
     }
}
</pre>
Tworzenie obiektu i uruchamianie watku:
<pre>MyThread t = new MyThread();
t.start();
</pre>
	   </li><li>Przez implementacje interfejsu Runnable
<p>
Klasa:
</p><pre>class MyThreadR implements Runnable {
     . . .
     public void run() { 
          . . . 
     } 
}
</pre>
Tworzenie i uruchamianie:
<pre>MyThreadR r = new MyThreadR();
Thread t = new Thread(r);
t.start();
</pre>
   </li></ul>
   </li><li>metoda run()
   </li><li>klasa Thread --
<a href="http://download.oracle.com/javase/10/docs/api/java/lang/Thread.html">konstruktory 
i metody </a>
   </li><li>Cykl zycia watku, stany watku
   <p></p><center>
      <img src="./lab1_files/thrlifecycle.gif" width="405" height="145" align="BOTTOM" naturalsizeflag="3" alt="">
      </center>
   <p></p>

</li></ul>

<p>

</p><p>

   </p></li><li>Podstawowe mechanizmy synchronizacji wbudowane w jezyk
<a href="https://home.agh.edu.pl/~kzajac/dydakt/tw/lab1/monitory.html">  monitory </a>
zwiazane z obiektem, slowo kluczowe <tt> synchronized</tt>, metody 
<tt>wait</tt> oraz <tt> notify</tt>  

<p>
</p></li><li>Wyscig 
   <ul>
   <li>wiecej niz jeden watek korzysta jednoczenie z zasobu dzielonego, 
przy  czym co najmniej jeden probuje go zmienic
   </li><li>przyczyna niedeterministycznego zachowania sie programu
   </li><li>moze prowadzic do trudnych do wykrycia bledow
   </li><li>pojecie thread-safety (bezpieczestwo dla watkow)
</li></ul>
</li><li> 
<a href="http://sourceforge.net/projects/javaconcurrenta/">
Animowane watki 
</a>
</li><li>Zadanie
<ul>
 <li> Napisac program BEZ SYNCHRONIZACJI, w ktorym mamy obiekt klasy 
Counter przechowywujący pewną zmienną całkowitą oraz dwie metody 
inkrementującą i dekrementującą.
<p>
Nastepnie jeden 
watek wywoluje na tym obiekcie metode 
inkrementująca
100000000 
razy, drugi dekrementująca 100000000 razy.
</p><p>
       Czy wynik zawsze jest zero? Sprawdzić działanie na różnych  
systemach.  (1 pkt)
</p><p>
</p></li><li>Wprowadzić synchronizację do programu 
 wykorzystujac slowo kluczowe "synchronized"
(1 pkt)
<p>
</p></li><li>Mamy klika procesów  produkujacych wiadomosci
<a href="https://home.agh.edu.pl/~kzajac/dydakt/tw/lab1/Prod_szkielet.txt">(szkielet kodu) </a> i
kilka konsumujacych wiadomosci
<a href="https://home.agh.edu.pl/~kzajac/dydakt/tw/lab1/Cons_szkielet.txt">(szkielet kodu) </a>
do/z
jednoelementowego  bufora. 
Zadaniem jest napisanie klasy
Buffer z  metodami <i>put</i> i <i>take</i>, tak, aby
dostep byl
synchronizowany uzywajac  monitora Javy dla obiektu klasy Buffer.
Kazda wiadomosc jest produkowana przez jednego producenta i konsumowana
przez jednego, dowolnego konsumenta. (1 pkt)
<p>
</p></li><li> wyjasnij, dlaczego przy sprawdzaniu warunku czy bufor jest 
pusty/pelny nalezy uzyc instrukcji <i> while </i>, a nie wystarczy 
instrukcja <i> if </i>.
   </li></ul>
</li></ol>
   
<h3>Bibliografia</h3>

<ol>
<li>Z Weiss, T Gruźlewski "Programowanie współbieżne i rozproszone w 
przykładach i zadaniach"
<!-- <LI>Jacek Rumiki, Jezyk Java. <A HREF=java_4.pdf>Rozdzial o watkach</A>
<LI>Bill Venners, <A 
HREF=http://www.artima.com/insidejvm/ed2/index.html>Inside the Java 
Virtual Machine</A> (rozdz. 5, <I>The Java Virtual Machine</I>), 
McGraw-Hill Companies; 2nd Bk&Cdr edition, 2000.
!-->
</li></ol>
 <p> </p><p> </p><hr>
<i>Katarzyna Rycerz, kzajac at agh.edu.pl</i>
<p>
(takze na  postawie opracowan dr B. Balisia)
</p><p> </p><p>








</p></body></html>